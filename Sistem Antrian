/*
PROGRAM SISTEM ANTRIAN BANK
KELOMPOK 10 :
MUHAMAD SURYA ALFRIANA	(201724020)
NOUVAL MUHAMMAD JORDAN	(201724023)
Compiler : DevC++
*/

//LIBRARY
#include<stdio.h>
#include<stdlib.h>
#include<conio.h>
#include<string.h>

int main(){
	
	//KAMUS DATA
	int i,j,k,m,n,p,bil,antrianTL,antrianCS;
	char aksi,CSnama[20][50],CStelepon[20][50],TLnama[20][50],TLtelepon[20][50];
	char reset[]="";
	char nama[30],telepon[30],password[10];
	i=0,j=0,n=0,m=0;antrianTL=0,antrianCS=0;
	strcpy(CSnama[0],reset);
	strcpy(CStelepon[0],reset);
	strcpy(TLnama[0],reset);
	strcpy(TLtelepon[0],reset);
		
		
	//PROGRAM
	while(bil!=999){
		
		//MENU LOGIN USER
		printf("\n===================================================\n");
		printf("\tSELAMAT DATANG DI SISTEM ANTRIAN BANK\n");
		printf("===================================================\n");
		printf("\t\nMasuk Sebagai :\n\n");
		printf("\t1. NASABAH\n");
		printf("\t2. PETUGAS CUSTOMER SERVICE\n");
		printf("\t3. PETUGAS TELLER\n\n");
		printf("\t999. Keluar Aplikasi\n\n");
		printf("---------------------------------------------------\n");
		printf("\t\nPilihan :  ");
		scanf("%d",&bil);
		if(bil==999){
			break;
		}
		system ("cls");
		
		switch(bil){
			
				case 1 : {
					//MENU USER NASABAH
					while(bil!=4){
					printf("\n===================================================\n");
					printf("\t\tMENU ANTRIAN NASABAH\n");
					printf("===================================================\n");
					printf("\t\nPilih layanan yang akan anda tuju :\n\n");
					printf("\t1. AMBIL ANTRIAN CUSTOMER SERVICE\n");
					printf("\t2. AMBIL ANTRIAN TELLER\n");
					printf("\t3. LIHAT ANTRIAN\n");
					printf("\t4. KELUAR\n\n");
					printf("---------------------------------------------------\n");
					printf("\t\nPilihan :  ");
					scanf("%d",&bil);
					system ("cls");
					
					switch(bil){
						case 1 : {							
							//AMBIL ANTRIAN CS
							printf("\n===================================================\n");
							printf("\t\tMENU ANTRIAN CS\n");
							printf("===================================================\n");
							printf("\t\nIdentitas Anda\n");
							printf("\n\tNama        : ");
							fflush(stdin);
							scanf("%[^\n]s",&nama);
							printf("\tNo. Telepon : ");
							scanf("%s",&telepon);
							printf("\n\nLanjutkan? <y/n> : ");												
							scanf("%s",&aksi);
							if(aksi=='y'){
								i=i+1;
								strcpy(CSnama[i],nama);
								strcpy(CStelepon[i],telepon);
								printf("\n\t===========================");
								printf("\n  \t  NOMOR ANTRIAN ANDA : %d ",i);
								printf("\n\t===========================");								
							}
							printf("\n\n\nPress Any Key to continue...");
							fflush(stdin);
							while(!kbhit());
							system ("cls");
							break;
						}
						
						case 2 : {							
							//AMBIL ANTRIAN TELLER
							printf("\n===================================================\n");
							printf("\t\tMENU ANTRIAN TELLER\n");
							printf("===================================================\n");
							printf("\t\nIdentitas Anda\n");
							printf("\nNama        : ");
							fflush(stdin);
							scanf("%[^\n]s",&nama);
							printf("No. Telepon : ");
							scanf("%s",&telepon);
							printf("\n\nLanjutkan? <y/n> : ");												
							scanf("%s",&aksi);
							fflush(stdin);
							if(aksi=='y'){
								j=j+1;
								strcpy(TLnama[j],nama);
								strcpy(TLtelepon[j],telepon);
								printf("\n\n===========================");
								printf("\n  NOMOR ANTRIAN ANDA : %d ",j);
								printf("\n===========================");								
							}
							printf("\n\n\n\nPress Any Key to continue...");
							fflush(stdin);
							while(!kbhit());
							system ("cls");
							break;
						}
						//MENU LIHAT ANTRIAN
						case 3 : {
							bil=0;
							while(bil!=3){
							printf("\n===================================================\n");
							printf("\t\tANTRIAN SAAT INI\n");
							printf("===================================================\n");
							printf("      ---------------------------------------\n");
							printf("       PANGGILAN UNTUK NO ANTRIAN CS     : %d\n",antrianCS);	
							printf("      ---------------------------------------\n");
							printf("       PANGGILAN UNTUK NO ANTRIAN TELLER : %d\n",antrianTL);
							printf("      ---------------------------------------\n");						
							printf("\t\nLihat Antrian\n\n");
							printf("\t1. ANTRIAN CUSTOMER SERVICE\n");
							printf("\t2. ANTRIAN TELLER\n");
							printf("\t3. Kembali\n\n");
							printf("---------------------------------------------------\n");
							printf("\t\nPilihan :  ");
							scanf("%d",&bil);
							fflush(stdin);
							system ("cls");
			
							switch(bil){
								
								case 1 : {
									//LIST ANTRIAN CS
									printf("\n===================================================\n");
									printf("\t\tANTRIAN CUSTOMER SERVICE\n");
									printf("===================================================\n");
									printf("\t\nNO. ANTRIAN YANG SEDANG DILAYANI : %d\n\n",antrianCS);
									printf("Antrian Ke\tNama\n");
									for(k=1;k<=i;k++){
										printf("     -----------------------------------------\n");
										printf("\t%d",k);
										printf("\t%s\n",CSnama[k]);
										printf("     -----------------------------------------\n");
									}
									printf("\n\n\n\nPress Any Key to continue...");
									while(!kbhit());
									system ("cls");
									break;
								}
								case 2 : {
									//LIST ANTRIAN TELLER
									printf("\n===================================================\n");
									printf("\t\t   ANTRIAN TELLER\n");
									printf("===================================================\n");
									printf("\t\nNO. ANTRIAN YANG SEDANG DILAYANI : %d\n\n",antrianTL);
									printf("Antrian Ke\tNama\n");
									for(k=1;k<=j;k++){
										printf("     -----------------------------------------\n");
										printf("\t%d",k);
										printf("\t%s\n",TLnama[k]);
										printf("     -----------------------------------------\n");
									}
									printf("\n\n\n\nPress Any Key to continue...");
									while(!kbhit());
									system ("cls");
									break;
								}
							}
							}
						break;
						}
					}
					}
					break;
				}
					
				case 2 : {
					//MENU USER CUSTOMER SERVICE
					//login
					printf("\n===================================================\n");
					printf("\t\tMENU CUSTOMER SERVICE\n");
					printf("===================================================\n");
					printf("\t\nUntuk melanjutkan masukkan password CS \n\n");
					printf("PASSWORD : ");
					scanf("%s",&password);	
					system ("cls");
					fflush(stdin);
					//MENU CS
					if(strcmp(password,"222")==0){
						while(bil!=4){
							printf("\n===================================================\n");
							printf("\t\tMENU CUSTOMER SERVICE\n");
							printf("===================================================\n");
							printf("\n\t==================================\n");
							printf("\tNomor Antrian Sekarang : %d\n",antrianCS);
							printf("\t----------------------------------\n");
							printf("\tNama     : %s",CSnama[n]);
							printf("\n\tNo. Telp : %s\n",CStelepon[n]);
							printf("\t==================================\n\n");
							printf("\tTotal Antrian CS : %d\n",i);	
							printf("\tSisa Antrian CS  : %d\n",i-n);
							printf("\t-----------------------\n\n");
							printf("\t1. PANGGIL ANTRIAN\n");	
							printf("\t2. LIST ANTRIAN\n");					
							printf("\t3. RESET ANTRIAN\n");
							printf("\t4. KELUAR\n\n");
							printf("---------------------------------------------------\n");
							printf("\t\nPilihan :  ");
							scanf("%d",&bil);
							fflush(stdin);
							system ("cls");
							
							switch(bil){
								
								case 1 : {
									//PANGGIL ANTRIAN CS
									if(n<i){
										antrianCS=antrianCS+1;
										n=n+1;																							
									}									
									else if(n>=i){
										printf("\n\n\n\t!!!  BELUM ADA ANTRIAN  !!!");
										printf("\n\n\nPress Any Key to continue...");
										while(!kbhit());            						
            							system ("cls");
									}									
            						fflush(stdin);
									break;
								}
								
								case 2 : {	
								//LIST ANTRIAN	CS							
									while(bil!=0){									
										printf("\n===================================================\n");
										printf("\t\t  LIST ANTRIAN CUSTOMER SERVICE\n");
										printf("===================================================\n");									
										printf("Antrian Ke\tNama\n");
										for(k=1;k<=i;k++){
											printf("     -----------------------------------------\n");
											printf("\t%d",k);
											printf("\t%s\n",CSnama[k]);
											printf("     -----------------------------------------\n");
										}
										printf("\n\n\nPerintah :");
										printf("\n\t1. HAPUS ANTRIAN");
										printf("\n\t0. KEMBALI");	
										printf("\n\n---------------------------------------------------\n");
										printf("\t\nPilihan :  ");
										scanf("%d",&bil);
										fflush(stdin);		
										//HAPUS ANTRIAN	CS							
										if(bil==1){
											if(i>0){
												printf("\n\tNo Antrian Yang Akan Dihapus\n");
												printf("\t\n\tPilihan :  ");
												scanf("%d",&bil);											
												for(p=bil;p<i;p++){
													strcpy(CSnama[p],CSnama[p+1]);
													strcpy(CStelepon[p],CStelepon[p+1]);
												}
												strcpy(CSnama[i],reset);
												if(bil<=n){
													n=n-1;	
													antrianCS=antrianCS-1;										
												}												
												i=i-1;											
												fflush(stdin);												
											}
											system ("cls");	
										}								
									}
									system ("cls");	
									break;
								}
								
								case 3 : {	
									//RESET ANTRIAN	CS							
									system ("cls");
									printf("\n\n\n\tYakin Untuk Me-Reset Antrian? <y/n> ");
									scanf("%s",&aksi);
									system ("cls");
									if(aksi=='y'){
										for(k=0;k<=i;k++){
										strcpy(CSnama[k],reset);
										strcpy(CStelepon[k],reset);																		
									}
									i=0,n=0,antrianCS=0;
										printf("\n\n\n\t!!!  ANTRIAN SELESAI  !!!");
										printf("\n\n\nPress Any Key to continue...");
										while(!kbhit()); 
									}
									fflush(stdin); 
									system ("cls");
									break;
								}
							}
						}
					}
					//Password salah
					else if(strcmp(password,"222")!=0){
						system ("cls");
						printf("\n\n\n\t!!!  PASSWORD SALAH  !!!");
						printf("\n\n\nPress Any Key to continue...");
						while(!kbhit());
						system ("cls");
					}
					break;
				}
				
				case 3 : {
					//MENU USER TELLER
					//login
					printf("\n===================================================\n");
					printf("\t\tMENU TELLER\n");
					printf("===================================================\n");
					printf("\t\nUntuk melanjutkan masukkan password Teller \n\n");
					printf("PASSWORD : ");
					scanf("%s",&password);	
					system ("cls");
					fflush(stdin);
					//MENU TELLER
					if(strcmp(password,"333")==0){
						while(bil!=4){
							printf("\n===================================================\n");
							printf("\t\tMENU TELLER\n");
							printf("===================================================\n");
							printf("\n\t==================================\n");
							printf("\tNomor Antrian Sekarang : %d\n",antrianTL);
							printf("\t----------------------------------\n");
							printf("\tNama     : %s",TLnama[m]);
							printf("\n\tNo. Telp : %s\n",TLtelepon[m]);
							printf("\t==================================\n\n");
							printf("\tTotal Antrian Teller : %d\n",j);	
							printf("\tSisa Antrian Teller  : %d\n",j-m);
							printf("\t------------------------\n\n");
							printf("\t1. PANGGIL ANTRIAN\n");	
							printf("\t2. LIST ANTRIAN\n");					
							printf("\t3. RESET ANTRIAN\n");
							printf("\t4. KELUAR\n\n");
							printf("---------------------------------------------------\n");
							printf("\t\nPilihan :  ");
							scanf("%d",&bil);
							fflush(stdin);
							system ("cls");
							
							switch(bil){
							
								case 1 : {
									//PANGGIL ANTRIAN TL
									if(m<j){
										antrianTL=antrianTL+1;
										m=m+1;																							
									}									
									else if(m>=j){
										printf("\n\n\n\t!!!  BELUM ADA ANTRIAN  !!!");
										printf("\n\n\nPress Any Key to continue...");
										while(!kbhit());            						
            							system ("cls");
									}									
            						fflush(stdin);
									break;
								}
								
								case 2 : {	
									//LIST ANTRIAN	TL							
									while(bil!=0){									
										printf("\n===================================================\n");
										printf("\t\tLIST ANTRIAN TELLER\n");
										printf("===================================================\n");									
										printf("Antrian Ke\tNama\n");
										for(k=1;k<=j;k++){
											printf("     -----------------------------------------\n");
											printf("\t%d",k);
											printf("\t%s\n",TLnama[k]);
											printf("     -----------------------------------------\n");
										}
										printf("\n\n\nPerintah :");
										printf("\n\t1. HAPUS ANTRIAN");
										printf("\n\t0. KEMBALI");	
										printf("\n\n---------------------------------------------------\n");
										printf("\t\nPilihan :  ");
										scanf("%d",&bil);
										fflush(stdin);	
										//HAPUS ANTRIAN	TL								
										if(bil==1){
											if(j>0){
												printf("\n\tNo Antrian Yang Akan Dihapus\n");
												printf("\t\n\tPilihan :  ");
												scanf("%d",&bil);											
												for(p=bil;p<j;p++){
													strcpy(TLnama[p],TLnama[p+1]);
													strcpy(TLtelepon[p],TLtelepon[p+1]);
												}
												strcpy(TLnama[j],reset);
												if(bil<=m){
													m=m-1;		
													antrianTL=antrianTL-1;									
												}												
												j=j-1;											
												fflush(stdin);												
											}
											system ("cls");	
										}								
									}
									system ("cls");	
									break;
								}
								
								case 3 : {	
								 	//RESET ANTRIAN TL								
									system ("cls");
									printf("\n\n\n\tYakin Untuk Me-Reset Antrian? <y/n> ");
									scanf("%s",&aksi);
									system ("cls");
									if(aksi=='y'){
										for(k=0;k<=j;k++){
										strcpy(TLnama[k],reset);
										strcpy(TLtelepon[k],reset);																		
									}
									j=0,n=0,antrianTL=0;
										printf("\n\n\n\t!!!  ANTRIAN SELESAI  !!!");
										printf("\n\n\nPress Any Key to continue...");
										while(!kbhit()); 
									}
									fflush(stdin); 
									system ("cls");
									break;
								}
							}
						}
					}
					//password salah
					else if(strcmp(password,"333")!=0){
						system ("cls");
						printf("\n\n\n\t!!!  PASSWORD SALAH  !!!");
						printf("\n\n\nPress Any Key to continue...");
						while(!kbhit());
						system ("cls");
					}
					break;
				}
		}
            	
	}
	system ("cls");
	printf("\n\n\n\tDibuat oleh :\n");
	printf("\n\tM.Surya.Afriana\n\tNouval.M.Jordan\n\n\n");
	printf("\n\n\nPress Any Key to Exit...");
	while(!kbhit());
	return 0;		
	//END PROGRAM
}


